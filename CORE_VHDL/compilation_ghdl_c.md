# Introduction 

This document has for purpose to synthetise the step to compile a c file with a vhdl one using ghdl.

# Steps :

Let's say we have the following files :
* core.vhdl : contain an entity architecture & declaration
* core_

When using the "normal" GHDL it only creates a .cf file, but when using GDHL LLVM it also generate a .o file

1. The first step is to analyse all the ``.vhdl`` file. This will create several .o file, one for each .vhdl file
2. Then we must bind our test bench file with ``--bind``. It will create another ``e~core_tb.o`` file and a ``.lst`` file. This step will only realise the first step of the elaboration command, it creates the list of object files but it **doesn't build the executable**.
3. Finally we need to build the executable file. We want to link our ``.c`` file with the ``e~core_tbb.o``. To do this we use a c compiler (like gcc) and we will use the following syntaxe :
```
gcc file.c -Wl, `ghdl --list-link core_tb` 
```
It will build the executable by linking file.o with the core_tb.o using the .lst generated by **.2**.
